<!doctype html>
<html style="height: 100%">
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <!--<link rel="shortcut icon" href="{{ url_for('static', filename='favicon.ico') }}">-->
    <link rel="stylesheet" href="http://hanlunai.com/cssjs/css/bootstrap-4.0.0/bootstrap.min.css">
    <link rel="stylesheet" href="http://hanlunai.com/cssjs/css/app.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

    {% block head %}
    <title>{% block title %}{% endblock %}</title>
    {% endblock %}
</head>

<body style="height: 100%">
{% block navbar %}
<!--<nav class="navbar navbar-light bg-faded">-->
<!--<a class="navbar-brand" href="#">-->
<!--Visipedia Annotation Toolkit-->
<!--</a>-->
<!--</nav>-->
{% endblock %}
<div class="container-fluid">
    <div id="app">
        {% block app %}{% endblock %}
    </div>
</div>
{% block modals %}
<table style="width: 100%; height: 100%">
    <tr>
        <td>
            <iframe id='iframe1' style="width: 95%; height: 100%" src="http://www.hanlunai.com/annotation/edit_task/"></iframe>
        </td>
        <td>
            <iframe id='iframe2' style="width: 95%; height: 100%" src="http://www.hanlunai.com/annotation/edit_task/"></iframe>
        </td>
    </tr>

    <tr>
        <td>
            <iframe id='iframe3' style="width: 95%; height: 100%" src="http://www.hanlunai.com/annotation/edit_task/"></iframe>
        </td>
        <td>
            <iframe id='iframe4' style="width: 95%; height: 100%" src="http://www.hanlunai.com/annotation/edit_task/"></iframe>
        </td>
    </tr>
</table>
<div style="width: 100%; text-align: center; margin-bottom: 10px">
    <div>
        <input style="margin: 5px;" type="button" value="All Next" onclick="allNext()">
        <input style="margin: 5px;" type="button" value="All Save" onclick="allSave()">

    </div>
</div>

<script>
    function allNext() {

        var frames = ['iframe1', 'iframe2', 'iframe3', 'iframe4']

        for (frame of frames) {

            var iframe = document.getElementById(frame);
            var frameDoc = iframe.contentDocument || iframe.contentWindow.document;
            var next = frameDoc.getElementById('next');

            if (next) {
                next.click();
            }
        }
    }

    function allSave() {

        var frames = ['iframe1', 'iframe2', 'iframe3', 'iframe4']

        for (frame of frames) {

            var iframe = document.getElementById(frame);
            var frameDoc = iframe.contentDocument || iframe.contentWindow.document;
            var save = frameDoc.getElementById('save');

            if (save) {
                save.click();
            }
        }
    }
</script>
{% endblock %}
{% block scripts %}
<script type="text/javascript" src="http://hanlunai.com/cssjs/app.bundle.js"></script>
{% endblock %}

</body>
</html>
